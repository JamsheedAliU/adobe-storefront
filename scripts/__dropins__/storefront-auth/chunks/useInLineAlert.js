<<<<<<< HEAD
import{jsxs as L,jsx as c,Fragment as V}from"@dropins/tools/preact-jsx-runtime.js";import{useCallback as m,useRef as M,useState as C,useEffect as F}from"@dropins/tools/preact-hooks.js";import{classes as k}from"@dropins/tools/lib.js";import{Button as S,Field as _,Picker as y,Input as T,InputDate as N,Checkbox as A,TextArea as D}from"@dropins/tools/components.js";import{initReCaptcha as H}from"@dropins/tools/recaptcha.js";import{useText as I}from"@dropins/tools/i18n.js";import*as h from"@dropins/tools/preact-compat.js";import{memo as q,useCallback as x}from"@dropins/tools/preact-compat.js";const ee=r=>{if(!r)return null;const o=new FormData(r);if(o&&typeof o.entries=="function"){const u=o.entries();if(u&&typeof u[Symbol.iterator]=="function")return JSON.parse(JSON.stringify(Object.fromEntries(u)))||{}}return{}},re=r=>typeof r=="function",te=({type:r,buttonText:o,variant:u,className:s="",enableLoader:l=!1,onClick:d,style:p,icon:n,...E})=>{const w=m(v=>{d==null||d(v)},[d]);return L(S,{icon:n,style:p,type:r,variant:u,className:k(["auth-button",s,l?"enableLoader":""]),onClick:w,...E,children:[c("span",{className:"auth-button__text",children:o}),l?c("div",{className:"auth-button__loader-wrapper",children:c("span",{className:"auth-button__loader"})}):null]})},O=r=>r.reduce((o,{code:u,required:s,defaultValue:l})=>(s&&(o[u]=l),o),{}),Z=({fieldsConfig:r,submitCallback:o})=>{const{requiredFieldError:u}=I({requiredFieldError:"Auth.FormText.requiredFieldError"}),s=M(null),[l,d]=C({}),[p,n]=C({});F(()=>{if(!r.length)return;const f=O(r);d(f)},[r==null?void 0:r.length]);const E=m((f,e)=>{const t=r.find(i=>i.code===f);return t!=null&&t.required&&!e?u:""},[r,u]),w=m(f=>{const{name:e,value:t,type:a,checked:i}=f==null?void 0:f.target,$=a==="checkbox"?i:t;d(g=>({...g,[e]:$}))},[]);F(()=>{H()},[]);const b=m(f=>{const{name:e,value:t,type:a,checked:i}=f==null?void 0:f.target,$=a==="checkbox"?i:t;n(g=>({...g,[e]:E(e,$)}))},[E]),v=m(f=>{f.preventDefault();let e=!0,t={},a=null;for(const[i,$]of Object.entries(l)){const g=E(i,$);g&&(t[i]=g,e=!1,a||(a=i))}if(n(t),a&&s.current){const i=s.current.elements.namedItem(a);i==null||i.focus()}o==null||o(f,e)},[l,E,o]);return{formData:l,errors:p,formRef:s,handleChange:w,handleBlur:b,handleSubmit:v}},R=r=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.8052 14.4968C10.8552 14.4968 9.9752 14.0268 9.4452 13.2368L9.4152 13.1868L9.3852 13.1268C8.1352 11.2268 7.5352 8.96681 7.6852 6.68681C7.7552 4.42681 9.6052 2.61681 11.8652 2.60681H12.0052C14.2752 2.47681 16.2152 4.21681 16.3452 6.47681C16.3452 6.55681 16.3452 6.62681 16.3452 6.70681C16.4852 8.94681 15.9052 11.1768 14.6852 13.0568L14.6052 13.1768C14.0552 13.9868 13.1352 14.4668 12.1652 14.4768H12.0052C11.9352 14.4768 11.8652 14.4868 11.7952 14.4868L11.8052 14.4968Z",stroke:"currentColor"}),h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M4.3252 21.5469C4.3552 20.4169 4.4752 19.2869 4.6752 18.1769C4.8952 17.1669 6.4752 16.0269 8.9052 15.1569C9.2352 15.0369 9.4852 14.7869 9.5952 14.4569L9.8052 14.0269",stroke:"currentColor"}),h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M14.425 14.4069L14.165 14.1569C14.375 14.5969 14.725 14.9569 15.155 15.1869C16.945 15.7969 19.125 16.9569 19.375 18.2069C19.585 19.3069 19.685 20.4269 19.675 21.5369",stroke:"currentColor"})),P=r=>h.createElement("svg",{id:"Icon_Warning_Base",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},h.createElement("g",{clipPath:"url(#clip0_841_1324)"},h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.9949 2.30237L0.802734 21.6977H23.1977L11.9949 2.30237Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M12.4336 10.5504L12.3373 14.4766H11.6632L11.5669 10.5504V9.51273H12.4336V10.5504ZM11.5883 18.2636V17.2687H12.4229V18.2636H11.5883Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),h.createElement("defs",null,h.createElement("clipPath",{id:"clip0_841_1324"},h.createElement("rect",{width:24,height:21,fill:"white",transform:"translate(0 1.5)"})))),j=r=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M6.75 12.762L10.2385 15.75L17.25 9",stroke:"currentColor"})),B=r=>h.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),h.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z",stroke:"currentColor"})),W=q(({isLoading:r,values:o,fields:u=[],errors:s,className:l="",onChange:d,onBlur:p})=>{const n=`${l}__item`,E=x((e,t,a)=>{const i=e.options.map($=>({text:$.label,value:$.value}));return c(_,{error:a,className:k([n,`${n}--${e.id}`,[`${n}--${e.id}-hidden`,e.is_hidden],e.className]),"data-testid":`${l}--${e.id}`,disabled:r,children:c(y,{name:e.id,floatingLabel:`${e.label} ${e.required?"*":""}`,placeholder:e.label,"aria-label":e.label,options:i,onBlur:p,handleSelect:d,value:t||e.defaultValue})},e.id)},[l,r,n,p,d]),w=x((e,t,a)=>{const i=e.id==="email",$=i?c(R,{}):void 0,g=i?"username":"";return c(_,{error:a,className:k([n,`${n}--${e.id}`,[`${n}--${e.id}-hidden`,e.is_hidden],e.className]),"data-testid":`${l}--${e.id}`,disabled:r,children:c(T,{autoComplete:g,icon:$,type:"text",name:e.id,value:t||e.defaultValue,placeholder:e.label,floatingLabel:`${e.label} ${e.required?"*":""}`,onBlur:p,onChange:d})},e.id)},[l,r,n,p,d]),b=x((e,t,a)=>c(_,{error:a,className:k([n,`${n}--${e.id}`,[`${n}--${e.id}-hidden`,e.is_hidden],e.className]),"data-testid":`${l}--${e.id}`,disabled:r,children:c(N,{type:"text",name:e.id,value:t||e.defaultValue,placeholder:e.label,floatingLabel:`${e.label} ${e.required?"*":""}`,onBlur:p,onChange:d})},e.id),[l,r,n,p,d]),v=x((e,t,a)=>c(_,{error:a,className:k([n,`${n}--${e.id}`,[`${n}--${e.id}-hidden`,e.is_hidden],e.className]),"data-testid":`${l}--${e.id}`,disabled:r,children:c(A,{name:e.id,checked:t||e.defaultValue,placeholder:e.label,label:`${e.label} ${e.required?"*":""}`,onBlur:p,onChange:d})},e.id),[l,r,n,p,d]),f=x((e,t,a)=>c(_,{error:a,className:k([n,`${n}--${e.id}`,[`${n}--${e.id}-hidden`,e.is_hidden],e.className]),"data-testid":`${l}--${e.id}`,disabled:r,children:c(D,{type:"text",name:e.id,value:t===void 0?e.defaultValue:t,label:`${e.label} ${e.required?"*":""}`,onBlur:p,onChange:d})},e.id),[l,r,n,p,d]);return u.length?c(V,{children:u.map(e=>{const t=(s==null?void 0:s[e.id])??"",a=(o==null?void 0:o[e.id])??"";switch(e.fieldType){case"TEXT":return e.options.length?E(e,a,t):w(e,a,t);case"MULTILINE":return w(e,a,t);case"SELECT":return E(e,a,t);case"DATE":return b(e,a,t);case"BOOLEAN":return v(e,a,t);case"TEXTAREA":return f(e,a,t);default:return null}})}):null}),ne=({name:r,isLoading:o,children:u,className:s="defaultForm",fieldsConfig:l=[],submitCallback:d})=>{const{formData:p,errors:n,formRef:E,handleChange:w,handleBlur:b,handleSubmit:v}=Z({submitCallback:d,fieldsConfig:l});return L("form",{onSubmit:v,className:s,name:r,ref:E,children:[c(W,{fields:l,onChange:w,onBlur:b,errors:n,values:p,className:s,isLoading:o}),u]})},ae=({children:r,text:o,bottomLine:u=!0,className:s})=>L("div",{className:k(["auth-title",s]),"data-testid":"auth-title_id",children:[L("div",{className:"auth-title__text",children:[c("h1",{className:"auth-title__heading",children:o}),r]}),u?c("div",{className:"auth-title__hr"}):null]}),J={success:c(j,{}),warning:c(P,{}),error:c(B,{})},le=()=>{const[r,o]=C({}),u=m(s=>{if(!s||!s.type)return;const l=J[s.type];o({...s,icon:l})},[]);return{inLineAlertProps:r,handleSetInLineAlertProps:u}};export{te as B,ne as F,ae as T,re as c,ee as g,le as u};
=======
import{jsxs as v,jsx as d,Fragment as S}from"@dropins/tools/preact-jsx-runtime.js";import{useCallback as D,useRef as g,useState as k,useEffect as V}from"@dropins/tools/preact-hooks.js";import{classes as L}from"@dropins/tools/lib.js";import{Button as R,Field as N,Picker as O,Input as y,InputDate as H,Checkbox as P,TextArea as q}from"@dropins/tools/components.js";import{initReCaptcha as U}from"@dropins/tools/recaptcha.js";import{useText as W}from"@dropins/tools/i18n.js";import*as f from"@dropins/tools/preact-compat.js";import{memo as G,useCallback as _}from"@dropins/tools/preact-compat.js";const te=r=>{if(!r)return null;const c=new FormData(r);if(c&&typeof c.entries=="function"){const u=c.entries();if(u&&typeof u[Symbol.iterator]=="function")return JSON.parse(JSON.stringify(Object.fromEntries(u)))||{}}return{}},ne=r=>typeof r=="function",ae=({type:r,buttonText:c,variant:u,className:l="",enableLoader:o=!1,onClick:s,style:h,icon:a,...p})=>{const I=D(A=>{s==null||s(A)},[s]);return v(R,{icon:a,style:h,type:r,variant:u,className:L(["auth-button",l,o?"enableLoader":""]),onClick:I,...p,children:[d("span",{className:"auth-button__text",children:c}),o?d("div",{className:"auth-button__loader-wrapper",children:d("span",{className:"auth-button__loader"})}):null]})},C=r=>r.reduce((c,{code:u,required:l,defaultValue:o})=>(l&&(c[u]=o),c),{}),F=({fieldsConfig:r,submitCallback:c})=>{const{requiredFieldError:u}=W({requiredFieldError:"Auth.FormText.requiredFieldError"}),l=g(null),o=g(!1),[s,h]=k({}),[a,p]=k({}),I=D(async()=>{o.current||(await U(0),o.current=!0)},[]);V(()=>{if(!r.length)return;const t=C(r);h(t)},[r==null?void 0:r.length]);const $=D((t,n)=>{const E=r.find(i=>i.code===t);return E!=null&&E.required&&!n?u:""},[r,u]),A=D(t=>{const{name:n,value:E,type:T,checked:i}=t==null?void 0:t.target,M=T==="checkbox"?i:E;h(b=>({...b,[n]:M}))},[]),x=D(t=>{const{name:n,value:E,type:T,checked:i}=t==null?void 0:t.target,M=T==="checkbox"?i:E;p(b=>({...b,[n]:$(n,M)}))},[$]),e=D(t=>{t.preventDefault();let n=!0,E={},T=null;for(const[i,M]of Object.entries(s)){const b=$(i,M);b&&(E[i]=b,n=!1,T||(T=i))}if(p(E),T&&l.current){const i=l.current.elements.namedItem(T);i==null||i.focus()}c==null||c(t,n)},[s,$,c]);return{formData:s,errors:a,formRef:l,handleChange:A,handleBlur:x,handleSubmit:e,handleFocus:I}};var w=(r=>(r.BOOLEAN="BOOLEAN",r.DATE="DATE",r.DATETIME="DATETIME",r.DROPDOWN="DROPDOWN",r.FILE="FILE",r.GALLERY="GALLERY",r.HIDDEN="HIDDEN",r.IMAGE="IMAGE",r.MEDIA_IMAGE="MEDIA_IMAGE",r.MULTILINE="MULTILINE",r.MULTISELECT="MULTISELECT",r.PRICE="PRICE",r.SELECT="SELECT",r.TEXT="TEXT",r.TEXTAREA="TEXTAREA",r.UNDEFINED="UNDEFINED",r.VISUAL="VISUAL",r.WEIGHT="WEIGHT",r.EMPTY="",r))(w||{});const Z=G(({loading:r,values:c,fields:u=[],errors:l,className:o="",onChange:s,onBlur:h})=>{const a=`${o}__field`,p=_((e,t,n)=>d(N,{error:n,className:L([a,`${a}--${e.id}`,[`${a}--${e.id}-hidden`,e.hidden],e.className]),"data-testid":`${o}--${e.id}`,disabled:r,children:d(O,{name:e.id,floatingLabel:`${e.label} ${e.required?"*":""}`,placeholder:e.label,"aria-label":e.label,options:e.options.map(E=>({...E,text:E.label})),onBlur:h,handleSelect:s,value:t||e.defaultValue})},e.id),[o,r,a,h,s]),I=_((e,t,n)=>d(N,{error:n,className:L([a,`${a}--${e.id}`,[`${a}--${e.id}-hidden`,e.hidden],e.className]),"data-testid":`${o}--${e.id}`,disabled:r,children:d(y,{type:"text",name:e.id,value:t===void 0?e.defaultValue:t,placeholder:e.label,floatingLabel:`${e.label} ${e.required?"*":""}`,onBlur:h,onChange:s})},e.id),[o,r,a,h,s]),$=_((e,t,n)=>d(N,{error:n,className:L([a,`${a}--${e.id}`,[`${a}--${e.id}-hidden`,e.hidden],e.className]),"data-testid":`${o}--${e.id}`,disabled:r,children:d(H,{type:"text",name:e.id,value:t||e.defaultValue,placeholder:e.label,floatingLabel:`${e.label} ${e.required?"*":""}`,onBlur:h,onChange:s})},e.id),[o,r,a,h,s]),A=_((e,t,n)=>d(N,{error:n,className:L([a,`${a}--${e.id}`,[`${a}--${e.id}-hidden`,e.hidden],e.className]),"data-testid":`${o}--${e.id}`,disabled:r,children:d(P,{name:e.id,checked:t||e.defaultValue,placeholder:e.label,label:`${e.label} ${e.required?"*":""}`,onBlur:h,onChange:s})},e.id),[o,r,a,h,s]),x=_((e,t,n)=>d(N,{error:n,className:L([a,`${a}--${e.id}`,[`${a}--${e.id}-hidden`,e.hidden],e.className]),"data-testid":`${o}--${e.id}`,disabled:r,children:d(q,{type:"text",name:e.id,value:t===void 0?e.defaultValue:t,label:`${e.label} ${e.required?"*":""}`,onBlur:h,onChange:s})},e.id),[o,r,a,h,s]);return u.length?d(S,{children:u.map(e=>{const t=(l==null?void 0:l[e.id])??void 0,n=(c==null?void 0:c[e.id])??void 0;switch(e.fieldType){case w.TEXT:return e.options.length?p(e,n,t):I(e,n,t);case w.MULTILINE:return I(e,n,t);case w.SELECT:return p(e,n,t);case w.DATE:return $(e,n,t);case w.BOOLEAN:return A(e,n,t);case"TEXTAREA":return x(e,n,t);default:return null}})}):null}),ce=({name:r,isLoading:c,children:u,className:l="defaultForm",fieldsConfig:o=[],submitCallback:s})=>{const{formData:h,errors:a,formRef:p,handleChange:I,handleBlur:$,handleSubmit:A,handleFocus:x}=F({submitCallback:s,fieldsConfig:o});return v("form",{onSubmit:A,className:l,name:r,ref:p,onFocus:x,children:[d(Z,{fields:o,onChange:I,onBlur:$,errors:a,values:h,className:l,isLoading:c}),u]})},oe=({children:r,text:c,bottomLine:u=!0,className:l})=>v("div",{className:L(["auth-title",l]),"data-testid":"auth-title_id",children:[v("div",{className:"auth-title__text",children:[d("h1",{className:"auth-title__heading",children:c}),r]}),u?d("div",{className:"auth-title__hr"}):null]}),B=r=>f.createElement("svg",{id:"Icon_Warning_Base",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},f.createElement("g",{clipPath:"url(#clip0_841_1324)"},f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.9949 2.30237L0.802734 21.6977H23.1977L11.9949 2.30237Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M12.4336 10.5504L12.3373 14.4766H11.6632L11.5669 10.5504V9.51273H12.4336V10.5504ZM11.5883 18.2636V17.2687H12.4229V18.2636H11.5883Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_841_1324"},f.createElement("rect",{width:24,height:21,fill:"white",transform:"translate(0 1.5)"})))),X=r=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M6.75 12.762L10.2385 15.75L17.25 9",stroke:"currentColor"})),j=r=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),f.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z",stroke:"currentColor"})),Y={success:d(X,{}),warning:d(B,{}),error:d(j,{})},le=()=>{const[r,c]=k({}),u=D(l=>{if(!l||!l.type){c({});return}const o=Y[l.type];c({...l,icon:o})},[]);return{inLineAlertProps:r,handleSetInLineAlertProps:u}};export{ae as B,ce as F,oe as T,ne as c,te as g,le as u};
>>>>>>> template/main
